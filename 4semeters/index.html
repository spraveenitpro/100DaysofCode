<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Scoped CSS Variables and JS</title>
  </head>
  <body>
    <h2>4 Semesters of CS - Front End Masters</h2>

    <script>
      //Basic Recursion
      let wr = (msg = "--------") => document.write(`<br>${msg}`);

      function basicRecursion(max, current) {
        if (current > max) return;
        wr(current);
        basicRecursion(max, current + 1);
      }

      basicRecursion(15, 1);
      wr();
      wr();
      // Recursion Fibonacci
      function fibonacci(n) {
        if (n <= 2) {
          return 1;
        } else {
          return fibonacci(n - 1) + fibonacci(n - 2);
        }
      }
      for (var i = 1; i <= 20; i++) {
        wr(`${i}. ${fibonacci(i)}`);
      }

      //Factorial:
      function factorial(n) {
        if (n < 2) {
          return 1;
        } else {
          return n * factorial(n - 1);
        }
      }

      for (var i = 1; i <= 10; i++) {
        wr(`${i}. ${factorial(i)}`);
      }

      // Bubble Sort

      var bubbleSort = (nums) => {
        //snapshot(nums)
        var swapped = false;
        do {
          var swapped = false;
          for (var i = 0; i < nums.length; i++) {
            //snapshot(nums);

            if (nums[i] > nums[i + 1]) {
              const temp = nums[i];
              nums[i] = nums[i + 1];
              nums[i + 1] = temp;
              swapped = true;
            }
          }
        } while (swapped);
        return nums;
        //snapshot(nums)
      };

      var nums = [10, 5, 3, 8, 2, 6, 4, 7, 9, 1];
      const bs = bubbleSort(nums);
      wr();
      wr();

      document.write(bs);

      // Insertion Sort

      var insertionSort = (nums) => {
        for (let i = 1; i < nums.length; i++) {
          for (let j = 0; j < i; j++) {
            snapshot(nums);
            console.log(`i is ${nums[i]} and j is ${nums[j]}`);

            if (nums[i] < nums[j]) {
              let spliced = nums.splice(i, 1);
              nums.splice(j, 0, spliced[0]);
            }
          }
        }
      };

      console.log(insertionSort([10, 5, 3, 8, 2, 6, 4, 7, 9, 1]));

      // MergeSort

      const mergeSort = (nums) => {
        if (nums.length < 2) {
          return nums;
        }

        const length = nums.length;
        const middle = Math.floor(length / 2);

        const left = nums.slice(0, middle);
        const right = nums.slice(middle, length);

        const sortedLeft = mergeSort(left);
        const sortedRight = mergeSort(right);

        return stitch(sortedLeft, sortedRight);
      };

      const stitch = (left, right) => {
        const results = [];

        while (left.length && right.length) {
          if (left[0] <= right[0]) {
            results.push(left.shift());
          } else {
            results.push(right.shift());
          }
        }

        while (left.length) {
          results.push(left.shift());
        }

        while (right.length) {
          results.push(right.shift());
        }
        return results;
      };

      // QuickSort
      const quickSort = (nums) => {
        if (nums.length <= 1) return nums;
        const pivot = nums[nums.length - 1];

        const left = [];
        const right = [];

        for (let i = 0; i < nums.length - 1; i++) {
          if (nums[i] < pivot) {
            left.push(nums[i]);
          } else {
            right.push(nums[i]);
          }
        }

        return [...quickSort(left), pivot, ...quickSort(right)];
      };
    </script>
  </body>
</html>
